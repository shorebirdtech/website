import{r as E,R as n}from"./index.BCtMShv3.js";import{j as f}from"./jsx-runtime.D_zvdyIk.js";import{e as _}from"./index.B49MDsbw.js";import{u as S,S as I}from"./utils.B1nU8EO8.js";var y=E.createContext(void 0);function L(s){const i=E.useContext(y);return s||i||"ltr"}function g(s){const i=s+"CollectionProvider",[A,N]=_(i),[v,u]=A(i,{collectionRef:{current:null},itemMap:new Map}),m=r=>{const{scope:e,children:l}=r,t=n.useRef(null),o=n.useRef(new Map).current;return f.jsx(v,{scope:e,itemMap:o,collectionRef:t,children:l})};m.displayName=i;const d=s+"CollectionSlot",p=n.forwardRef((r,e)=>{const{scope:l,children:t}=r,o=u(d,l),c=S(e,o.collectionRef);return f.jsx(I,{ref:c,children:t})});p.displayName=d;const C=s+"CollectionItemSlot",x="data-radix-collection-item",R=n.forwardRef((r,e)=>{const{scope:l,children:t,...o}=r,c=n.useRef(null),M=S(e,c),a=u(C,l);return n.useEffect(()=>(a.itemMap.set(c,{ref:c,...o}),()=>void a.itemMap.delete(c))),f.jsx(I,{[x]:"",ref:M,children:t})});R.displayName=C;function T(r){const e=u(s+"CollectionConsumer",r);return n.useCallback(()=>{const t=e.collectionRef.current;if(!t)return[];const o=Array.from(t.querySelectorAll(`[${x}]`));return Array.from(e.itemMap.values()).sort((a,O)=>o.indexOf(a.ref.current)-o.indexOf(O.ref.current))},[e.collectionRef,e.itemMap])}return[{Provider:m,Slot:p,ItemSlot:R},T,N]}export{g as c,L as u};
