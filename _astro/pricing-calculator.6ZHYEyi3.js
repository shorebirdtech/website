import{j as s,c as C,u as z}from"./utils.Cv7Rgatr.js";import{B as le}from"./IconBase.CcBfAdCf.js";import{r as u,R as ce}from"./index.BCtMShv3.js";import{a as de,b as ue,e as fe,c as D,P as I}from"./index.DK3usS4M.js";import{c as me,u as he}from"./index.B8i2V_TF.js";import{d as xe}from"./ArrowRight.C6ETkNGw.js";import"./index.DaKJxkVF.js";function pe({className:e,...t}){return s.jsx("div",{"data-slot":"card",className:C("bg-card text-card-foreground flex flex-col gap-6 rounded-xl py-6 shadow-sm",e),...t})}function Se({className:e,...t}){return s.jsx("div",{"data-slot":"card-header",className:C("flex flex-col gap-1.5 px-6",e),...t})}function ge({className:e,...t}){return s.jsx("div",{"data-slot":"card-content",className:C("text-text-2 px-6",e),...t})}function Y(e,[t,n]){return Math.min(n,Math.max(t,e))}function ve(e){const t=u.useRef({value:e,previous:e});return u.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}function be(e){const[t,n]=u.useState(void 0);return de(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});const r=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const a=i[0];let o,l;if("borderBoxSize"in a){const d=a.borderBoxSize,m=Array.isArray(d)?d[0]:d;o=m.inlineSize,l=m.blockSize}else o=e.offsetWidth,l=e.offsetHeight;n({width:o,height:l})});return r.observe(e,{box:"border-box"}),()=>r.unobserve(e)}else n(void 0)},[e]),t}var W=["PageUp","PageDown"],X=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],G={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},M="Slider",[H,we,ye]=me(M),[q,Ge]=fe(M,[ye]),[Pe,K]=q(M),J=u.forwardRef((e,t)=>{const{name:n,min:r=0,max:i=100,step:a=1,orientation:o="horizontal",disabled:l=!1,minStepsBetweenThumbs:d=0,defaultValue:m=[r],value:g,onValueChange:c=()=>{},onValueCommit:f=()=>{},inverted:v=!1,form:y,...S}=e,x=u.useRef(new Set),h=u.useRef(0),b=o==="horizontal"?je:Re,[p=[],N]=ue({prop:g,defaultProp:m,onChange:w=>{[...x.current][h.current]?.focus(),c(w)}}),B=u.useRef(p);function V(w){const P=Ne(p,w);A(w,P)}function ie(w){A(w,h.current)}function ae(){const w=B.current[h.current];p[h.current]!==w&&f(p)}function A(w,P,{commit:k}={commit:!1}){const F=Ie(a),T=Ke(Math.round((w-r)/a)*a+r,F),_=Y(T,[r,i]);N((E=[])=>{const j=Ce(E,_,P);if(ze(j,d*a)){h.current=j.indexOf(_);const $=String(j)!==String(E);return $&&k&&f(j),$?j:E}else return E})}return s.jsx(Pe,{scope:e.__scopeSlider,name:n,disabled:l,min:r,max:i,valueIndexToChangeRef:h,thumbs:x.current,values:p,orientation:o,form:y,children:s.jsx(H.Provider,{scope:e.__scopeSlider,children:s.jsx(H.Slot,{scope:e.__scopeSlider,children:s.jsx(b,{"aria-disabled":l,"data-disabled":l?"":void 0,...S,ref:t,onPointerDown:D(S.onPointerDown,()=>{l||(B.current=p)}),min:r,max:i,inverted:v,onSlideStart:l?void 0:V,onSlideMove:l?void 0:ie,onSlideEnd:l?void 0:ae,onHomeKeyDown:()=>!l&&A(r,0,{commit:!0}),onEndKeyDown:()=>!l&&A(i,p.length-1,{commit:!0}),onStepKeyDown:({event:w,direction:P})=>{if(!l){const T=W.includes(w.key)||w.shiftKey&&X.includes(w.key)?10:1,_=h.current,E=p[_],j=a*T*P;A(E+j,_,{commit:!0})}}})})})})});J.displayName=M;var[Q,Z]=q(M,{startEdge:"left",endEdge:"right",size:"width",direction:1}),je=u.forwardRef((e,t)=>{const{min:n,max:r,dir:i,inverted:a,onSlideStart:o,onSlideMove:l,onSlideEnd:d,onStepKeyDown:m,...g}=e,[c,f]=u.useState(null),v=z(t,b=>f(b)),y=u.useRef(void 0),S=he(i),x=S==="ltr",h=x&&!a||!x&&a;function R(b){const p=y.current||c.getBoundingClientRect(),N=[0,p.width],V=U(N,h?[n,r]:[r,n]);return y.current=p,V(b-p.left)}return s.jsx(Q,{scope:e.__scopeSlider,startEdge:h?"left":"right",endEdge:h?"right":"left",direction:h?1:-1,size:"width",children:s.jsx(ee,{dir:S,"data-orientation":"horizontal",...g,ref:v,style:{...g.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:b=>{const p=R(b.clientX);o?.(p)},onSlideMove:b=>{const p=R(b.clientX);l?.(p)},onSlideEnd:()=>{y.current=void 0,d?.()},onStepKeyDown:b=>{const N=G[h?"from-left":"from-right"].includes(b.key);m?.({event:b,direction:N?-1:1})}})})}),Re=u.forwardRef((e,t)=>{const{min:n,max:r,inverted:i,onSlideStart:a,onSlideMove:o,onSlideEnd:l,onStepKeyDown:d,...m}=e,g=u.useRef(null),c=z(t,g),f=u.useRef(void 0),v=!i;function y(S){const x=f.current||g.current.getBoundingClientRect(),h=[0,x.height],b=U(h,v?[r,n]:[n,r]);return f.current=x,b(S-x.top)}return s.jsx(Q,{scope:e.__scopeSlider,startEdge:v?"bottom":"top",endEdge:v?"top":"bottom",size:"height",direction:v?1:-1,children:s.jsx(ee,{"data-orientation":"vertical",...m,ref:c,style:{...m.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:S=>{const x=y(S.clientY);a?.(x)},onSlideMove:S=>{const x=y(S.clientY);o?.(x)},onSlideEnd:()=>{f.current=void 0,l?.()},onStepKeyDown:S=>{const h=G[v?"from-bottom":"from-top"].includes(S.key);d?.({event:S,direction:h?-1:1})}})})}),ee=u.forwardRef((e,t)=>{const{__scopeSlider:n,onSlideStart:r,onSlideMove:i,onSlideEnd:a,onHomeKeyDown:o,onEndKeyDown:l,onStepKeyDown:d,...m}=e,g=K(M,n);return s.jsx(I.span,{...m,ref:t,onKeyDown:D(e.onKeyDown,c=>{c.key==="Home"?(o(c),c.preventDefault()):c.key==="End"?(l(c),c.preventDefault()):W.concat(X).includes(c.key)&&(d(c),c.preventDefault())}),onPointerDown:D(e.onPointerDown,c=>{const f=c.target;f.setPointerCapture(c.pointerId),c.preventDefault(),g.thumbs.has(f)?f.focus():r(c)}),onPointerMove:D(e.onPointerMove,c=>{c.target.hasPointerCapture(c.pointerId)&&i(c)}),onPointerUp:D(e.onPointerUp,c=>{const f=c.target;f.hasPointerCapture(c.pointerId)&&(f.releasePointerCapture(c.pointerId),a(c))})})}),te="SliderTrack",ne=u.forwardRef((e,t)=>{const{__scopeSlider:n,...r}=e,i=K(te,n);return s.jsx(I.span,{"data-disabled":i.disabled?"":void 0,"data-orientation":i.orientation,...r,ref:t})});ne.displayName=te;var L="SliderRange",re=u.forwardRef((e,t)=>{const{__scopeSlider:n,...r}=e,i=K(L,n),a=Z(L,n),o=u.useRef(null),l=z(t,o),d=i.values.length,m=i.values.map(f=>se(f,i.min,i.max)),g=d>1?Math.min(...m):0,c=100-Math.max(...m);return s.jsx(I.span,{"data-orientation":i.orientation,"data-disabled":i.disabled?"":void 0,...r,ref:l,style:{...e.style,[a.startEdge]:g+"%",[a.endEdge]:c+"%"}})});re.displayName=L;var O="SliderThumb",oe=u.forwardRef((e,t)=>{const n=we(e.__scopeSlider),[r,i]=u.useState(null),a=z(t,l=>i(l)),o=u.useMemo(()=>r?n().findIndex(l=>l.ref.current===r):-1,[n,r]);return s.jsx(Ee,{...e,ref:a,index:o})}),Ee=u.forwardRef((e,t)=>{const{__scopeSlider:n,index:r,name:i,...a}=e,o=K(O,n),l=Z(O,n),[d,m]=u.useState(null),g=z(t,R=>m(R)),c=d?o.form||!!d.closest("form"):!0,f=be(d),v=o.values[r],y=v===void 0?0:se(v,o.min,o.max),S=Me(r,o.values.length),x=f?.[l.size],h=x?Ae(x,y,l.direction):0;return u.useEffect(()=>{if(d)return o.thumbs.add(d),()=>{o.thumbs.delete(d)}},[d,o.thumbs]),s.jsxs("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[l.startEdge]:`calc(${y}% + ${h}px)`},children:[s.jsx(H.ItemSlot,{scope:e.__scopeSlider,children:s.jsx(I.span,{role:"slider","aria-label":e["aria-label"]||S,"aria-valuemin":o.min,"aria-valuenow":v,"aria-valuemax":o.max,"aria-orientation":o.orientation,"data-orientation":o.orientation,"data-disabled":o.disabled?"":void 0,tabIndex:o.disabled?void 0:0,...a,ref:g,style:v===void 0?{display:"none"}:e.style,onFocus:D(e.onFocus,()=>{o.valueIndexToChangeRef.current=r})})}),c&&s.jsx(De,{name:i??(o.name?o.name+(o.values.length>1?"[]":""):void 0),form:o.form,value:v},r)]})});oe.displayName=O;var De=e=>{const{value:t,...n}=e,r=u.useRef(null),i=ve(t);return u.useEffect(()=>{const a=r.current,o=window.HTMLInputElement.prototype,d=Object.getOwnPropertyDescriptor(o,"value").set;if(i!==t&&d){const m=new Event("input",{bubbles:!0});d.call(a,t),a.dispatchEvent(m)}},[i,t]),s.jsx("input",{style:{display:"none"},...n,ref:r,defaultValue:t})};function Ce(e=[],t,n){const r=[...e];return r[n]=t,r.sort((i,a)=>i-a)}function se(e,t,n){const a=100/(n-t)*(e-t);return Y(a,[0,100])}function Me(e,t){return t>2?`Value ${e+1} of ${t}`:t===2?["Minimum","Maximum"][e]:void 0}function Ne(e,t){if(e.length===1)return 0;const n=e.map(i=>Math.abs(i-t)),r=Math.min(...n);return n.indexOf(r)}function Ae(e,t,n){const r=e/2,a=U([0,50],[0,r]);return(r-a(t)*n)*n}function _e(e){return e.slice(0,-1).map((t,n)=>e[n+1]-t)}function ze(e,t){if(t>0){const n=_e(e);return Math.min(...n)>=t}return!0}function U(e,t){return n=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const r=(t[1]-t[0])/(e[1]-e[0]);return t[0]+r*(n-e[0])}}function Ie(e){return(String(e).split(".")[1]||"").length}function Ke(e,t){const n=Math.pow(10,t);return Math.round(e*n)/n}var Be=J,Ve=ne,ke=re,Te=oe;function He({className:e,defaultValue:t,value:n,min:r=0,max:i=100,...a}){const o=u.useMemo(()=>Array.isArray(n)?n:Array.isArray(t)?t:[r,i],[n,t,r,i]);return s.jsxs(Be,{"data-slot":"slider",defaultValue:t,value:n,min:r,max:i,className:C("relative flex w-full touch-none items-center select-none data-[disabled]:opacity-50 data-[orientation=vertical]:h-full data-[orientation=vertical]:min-h-44 data-[orientation=vertical]:w-auto data-[orientation=vertical]:flex-col",e),...a,children:[s.jsx(Ve,{"data-slot":"slider-track",className:C("bg-border-2 relative grow overflow-hidden rounded-full data-[orientation=horizontal]:h-1.5 data-[orientation=horizontal]:w-full data-[orientation=vertical]:h-full data-[orientation=vertical]:w-1.5"),children:s.jsx(ke,{"data-slot":"slider-range",className:C("from-text-gradient-1 to-text-gradient-2 absolute bg-gradient-to-r data-[orientation=horizontal]:h-full data-[orientation=vertical]:w-full")})}),Array.from({length:o.length},(l,d)=>s.jsx(Te,{"data-slot":"slider-thumb",className:"border-primary from-text-gradient-1 to-text-gradient-2 ring-accent-secondary-1 block! size-4 shrink-0 cursor-pointer rounded-full border bg-gradient-to-r shadow-sm transition-[color,box-shadow] hover:ring-4 focus-visible:outline-hidden disabled:pointer-events-none disabled:opacity-50"},d))]})}const Le=(e,t,n)=>Math.min(Math.max(e,t),n);function qe({hideCTA:e}){const[t,n]=ce.useState(5e3),i=(()=>{const o=1*t,l=o>5e3?"Pro":"Free",d=o>5e3?20:0,g=Le(Math.ceil((o-(l==="Pro"?5e4:5e3))*(1/2500)),0,1/0);return{total:t>2e6?null:`$${(d+g).toLocaleString()}`}})(),a=t>2e6?"2,000,000+":t.toLocaleString();return s.jsxs(pe,{children:[s.jsx(Se,{children:s.jsxs("div",{className:"flex w-full flex-col justify-between gap-6 md:flex-row",children:[s.jsxs("div",{className:"flex flex-col",children:[s.jsx("p",{className:"text-lg",children:"Cost per patch"}),s.jsx("p",{className:"text-text-2 text-sm",children:"Estimate the cost to send a patch to your users."})]}),!e&&s.jsx("a",{href:"/pricing",className:"items-start",children:s.jsxs(le,{variant:"outline",className:"w-full font-light",children:["View full pricing"," ",s.jsx(xe,{className:"size-5",weight:"bold"})]})})]})}),s.jsxs(ge,{children:[s.jsxs("div",{className:"flex w-full flex-row gap-8",children:[s.jsxs("div",{className:"flex flex-col",children:[s.jsx("p",{className:"text-text-2 text-sm",children:"Users"}),s.jsx("p",{className:"text-text-1 text-3xl",children:a})]}),s.jsxs("div",{className:"flex flex-col",children:[s.jsx("p",{className:"text-text-2 text-sm",children:"Estimated Cost"}),s.jsx("p",{className:"text-text-1 text-3xl",children:i.total??"Contact Us"})]})]}),s.jsx("div",{className:"py-6",children:s.jsx(He,{id:"users",min:0,max:2000001,step:1e3,value:[t],onValueChange:o=>n(o[0])})}),s.jsx("div",{children:s.jsx("p",{className:"text-text-2 text-sm",children:'*Prices are quoted in USD and sold as "patch installs per month", reflecting successful installs of a given patch. For example, 1 patch pushed to 10 devices is 10 installs. 2 patches pushed to 5 devices is also 10 installs.'})})]})]})}export{qe as PricingCalculator};
